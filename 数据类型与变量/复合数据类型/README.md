# 复合数据类型

## 简介

复合数据类型是指在程序中同时使用多个数据类型来定义变量

- 数组 —— 相同类型的多个变量
- 元组 —— 不同类型的多个变量
- 切片 —— 引用数组或向量中的一段连续元素
- 枚举 —— 多个相关值的集合


## 元组

元组 (Tuple) 是由多个不同类型的值组合而成的复合数据类型

```rust
let 变量名: (类型1, 类型2, ...) = (值1, 值2, ...);
```

元组中的每个元素都有一个类型，并且元素的数量是固定的。

元组可以用来存储不同类型的数据，例如一个人的姓名、年龄和性别，或者一个坐标点的 x、y 值。

元组的定义使用圆括号 `()`，其中的元素用逗号分隔

```rust
let person = ("Alice", 30, true);
let point = (10, 20);

let empty_tuple: (i32, &str) = (); // 定义一个空元组，类型为 (i32, &str)
```

### 输出

```rust
println!("{}", person);
```

此时会报错

```
(&str, {integer}, bool)` cannot be formatted with the default formatter
```

这是因为元组中的元素类型不同，而 `println!` 宏只能格式化相同类型的数据

可以使用 `{:?}` 调用 `Debug` 特征来输出元组

```rust
println!("{:?}", person);
```

```
("Alice", 30, true)
```

## 数组

数组 (Array) 是由相同类型的多个值组成的集合

```rust
let 变量名: [类型; 长度] = [值1, 值2, ...];
```

数组中的元素类型必须相同，长度必须是编译时已知的常量表达式

```rust
let a = [1, 2, 3, 4, 5];
let b: [i32; 5] = [1, 2, 3, 4, 5];

let c: [i32; 3] = [1, 2, 3, 4, 5]; // 错误，长度为 3，而数组长度为 5

let empty_arr: [i32; 0] = []; // 定义一个空数组，类型为 [i32; 0]
```

### 输出

```rust
println!("{:?}", a);
```

```
[1, 2, 3, 4, 5]
```

### 切片

切片 (Slice) 是对数组或向量的引用，它指向数组或向量中的一段连续元素

```rust
let slice: &[类型] = &数组或向量[范围];
```

切片的类型为 `&[类型]`，其中范围的写法为 `start..end`，表示从第 `start` 个元素开始，到第 `end` 个元素结束（不包含第 `end` 个元素）

如果要包含第 `end` 个元素，可以使用 `start..=end`

```rust
let a = [1, 2, 3, 4, 5];
let slice1 = &a[1..3]; // 切片 a 的第 1 个元素到第 3 个元素（不包含第 3 个元素）
let slice2 = &a[1..=3]; // 切片 a 的第 1 个元素到第 3 个元素（包含第 3 个元素）
```
